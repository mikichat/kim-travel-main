# 여행사 관리 시스템

이 프로젝트는 여행사의 업무 효율성을 높이기 위해 개발된 웹 기반 관리 시스템입니다. 고객 관리, 상품 관리, 예약 조회, 견적서 생성, 자동 알림 등 핵심적인 기능을 통해 여행사 운영을 지원합니다. 또한, 항공 스케줄을 손쉽게 변환하고 공유할 수 있는 유틸리티 기능도 포함되어 있습니다.

## 주요 기능

### 1. 관리자 대시보드 (`index.html`)
- **실시간 현황 파악:** 총 예약, 고객 수, 월별 매출 등 핵심 지표를 한눈에 확인할 수 있습니다.
- **일정 관리:** 달력(Calendar)을 통해 예약된 여행의 출발일과 도착일을 시각적으로 파악하고, 할 일(To-do) 목록을 관리할 수 있습니다.
- **최신 정보:** 최근 예약 현황을 빠르게 조회할 수 있습니다.

### 2. 핵심 업무 관리
- **예약 관리:** 신규 예약을 등록하고, 상태(문의, 예약확정, 출발완료 등)를 변경하며 관리합니다.
- **고객 관리:** 고객의 기본 정보와 여권 정보를 안전하게 관리합니다. **보안 모드**를 통해 민감한 개인정보를 마스킹 처리할 수 있으며, 여권 사본 이미지 파일 업로드도 가능합니다.
- **상품 관리:** 다양한 여행 상품을 손쉽게 등록하고, 가격, 기간, 설명을 수정할 수 있습니다.
- **견적서 생성:** 등록된 고객과 상품 정보를 바탕으로 표준화된 견적서를 생성하고 즉시 인쇄할 수 있습니다.

### 3. 자동화 및 편의 기능
- **자동 알림 시스템:** 고객의 여행 출발일에 맞춰 **여권 유효기간 확인(30일 전)**, **여행 준비 안내(7일 전)** 등 중요한 알림을 자동으로 생성하여 관리자가 놓치지 않도록 돕습니다.
- **엑셀 연동:** 고객, 상품, 예약 목록을 **엑셀 파일로 내보내거나** 템플릿을 통해 **일괄 업로드**할 수 있습니다.
- **항공편 변환기 (`air1/index.html`):** GDS(Global Distribution System)에서 사용하는 복잡한 항공 스케줄 텍스트를 고객이 이해하기 쉬운 형식으로 즉시 변환합니다. 변환된 내용은 **복사, 이미지 저장, PDF 다운로드, 카카오톡 공유**가 가능하여 고객 안내에 유용하게 사용할 수 있습니다.

## 프로젝트 구조

```
├── index.html              # 메인 대시보드 UI
├── css/style.css           # 대시보드 스타일시트
├── js/app.js               # 대시보드 핵심 로직 (데이터 관리, UI 렌더링, 이벤트 처리)
│
├── air1/                   # 항공편 변환기
│   ├── index.html          # 항공편 변환기 UI
│   └── js/main.js          # 변환 및 공유 로직
│
├── backend/                # 백엔드 서버 및 데이터베이스
│   ├── server.js           # Express.js 기반의 RESTful API 서버
│   ├── database.js         # SQLite 데이터베이스 초기화 및 스키마 정의
│   └── travel_agency.db    # SQLite 데이터베이스 파일 (자동 생성)
│
├── itinerary/              # 생성된 여행 일정표 관련 파일
└── start.bat               # 백엔드 및 프론트엔드 서버를 한 번에 시작하는 스크립트
```

## 기술 스택

- **프론트엔드:** HTML, CSS, JavaScript (ES6+)
- **백엔드:** Node.js, Express.js, **SQLite3** (데이터베이스)
- **주요 라이브러리:**
  - **Chart.js:** 데이터 시각화 차트
  - **SheetJS (XLSX):** 엑셀 파일 가져오기/내보내기
  - **Font Awesome:** 아이콘
  - **Tailwind CSS:** 항공편 변환기 UI 스타일링
  - **jsPDF & html2canvas:** PDF 및 이미지 생성
  - **Kakao SDK:** 카카오톡 공유 기능
  - **CORS:** 프론트엔드와 백엔드 간 통신 허용

## 시작하기

이 프로젝트는 `start.bat` 스크립트를 통해 백엔드와 프론트엔드 서버를 쉽게 실행할 수 있습니다.

### 1. 필수 요구사항
- **Node.js 및 npm:** 시스템에 Node.js와 npm이 설치되어 있어야 합니다.

### 2. 프로젝트 실행
프로젝트 루트 디렉토리에서 `start.bat` 파일을 더블클릭하여 실행합니다.

```bash
# 프로젝트 루트 디렉토리에서
start.bat
```

스크립트는 다음 작업을 자동으로 수행합니다:
- 백엔드에 필요한 Node.js 패키지(`npm install`)를 설치합니다.
- 백엔드 서버(`backend/server.js`)를 새 명령 프롬프트 창에서 시작합니다.
- SQLite 데이터베이스 파일(`backend/travel_agency.db`)을 초기화하고 필요한 테이블을 생성합니다.
- 프론트엔드 서버(`npx serve .`)를 새 명령 프롬프트 창에서 시작합니다.

### 3. 애플리케이션 접속
모든 서버가 성공적으로 시작되면, 웹 브라우저를 열고 다음 주소로 접속합니다:
- **프론트엔드 (여행사 관리 시스템):** `http://localhost:3000` (또는 `start.bat` 실행 시 프론트엔드 서버 창에 표시되는 주소)
- **백엔드 API:** `http://localhost:5000`

**참고:**
- `air1/js/main.js` 파일 내의 `YOUR_KAKAO_JAVASCRIPT_KEY`를 실제 카카오 개발자 키로 변경해야 카카오톡 공유 기능이 정상적으로 동작합니다.
- `npx serve` 명령어가 `serve` 패키지 설치 여부를 물어볼 경우 `y`를 입력하고 엔터를 누르세요.
